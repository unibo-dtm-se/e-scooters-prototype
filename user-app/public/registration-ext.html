<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>e2-scooters Registration</title>
   
  </head>
  <body>
    <h2>E-Scooters - User Registration</h2>
      
    <form>
      <label for="fname">First name:</label><br>
      <input type="text" id="fname" name="fname" value="Walt"><br>
      <label for="lname">Last name:</label><br>
      <input type="text" id="lname" name="lname" value="Whitman"><br><br>
      <label for="lname">User name:</label><br>
      <input type="text" id="uname" name="uname" value="wwhitman"><br><br>
      <button onclick="handleRegistration()">Submit</button>
    </form> 

    <p id="result"></p>

    <script>
      const registerUser = async (data) => {
        const response = await fetch('http://localhost:5050/accounts',{
          method: 'POST',
          body: JSON.stringify(data)
        })
        return response.json(); 
      }

      async function handleRegistration() {
        const res = await registerUser({
          "fname": document.getElementById("fname"),
          "lname": document.getElementById("lname"),
          "uname": document.getElementById("uname")
        })
        document.getElementById("result").innerHTML = "Succeeded"
      }
    </script>
      
  </body>
</html>
